<style>

/* Global */
#quizSection {
  width: 100%;
  background-color: #eee;
  line-height: 1.1em;
  font-size: 16px;
  color: #333;
  font-family: heineken-regular, arial, sans-serif;
  text-align: center;
}

#header {
  background-image: url(/download/b8546b54-f0f0-4b0c-bace-457baeb6972e/header-back.png);
  padding: 20px;
}

#header progress {
  display: block;
  width: 70%;
  margin: 0px auto;
  border-radius: 4px;
  height: 8px;
  background-color: white;
  color: #55a22a;
  border: 1px solid #333;
}

#header #progressText {
  color: white;
  font-size: 14px;
  margin-top: 10px;
}

#question, #optionHolder, #picHolder, #nextButtonHolder {
  width: 60%;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

#question, #scQuestion {
  margin-top: 30px;
  margin-bottom: 30px;
  font-size: 18px;
  font-weight: bold;
}

#optionHolder {
  margin-bottom: 30px;
  min-height: 60px;
}

#picHolder {
  margin-bottom: 40px;
}

#picHolder img {
  width: 80%;
}

.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: #ca816a;
  width: 30%;
  margin-right: 2%;
  height: 60px;
  border-radius: 7px;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

.button:hover {
  background-color: #eba087;
  transition-property: background-color;
  transition-duration: 0.2s;
}

#optionHolder .button {
  visibility: hidden;
}

#optionHolder .button.hide {
  display: none;
}

html body .button.true {
  background-color: #51a025 !important;
}

.button.selected {
  background-color: #ff2b00 !important;
}

.button.selected {
  background-color: #ff2b00;
}

.button#nextButton, .button#startButton, .button#playAgain {
  height: 40px;
  font-size: 12px;
  border-bottom: 3px solid #a9634d;
  width: auto;
  margin-top: 20px;
  padding: 0px 60px;
}

.button#playAgain {
  padding: 0px 20px 0px 45px;
  background-image: url(/download/958abd89-5d36-4d22-abb2-e9408d88fd01/play-again.png);
  background-repeat: no-repeat;
  background-position: 15px center;
}

.button.disabled, #button.inactive {
  cursor: default;
}

.button.disabled:hover, button.inactive:hover  {
  background-color: #ca816a;
}

.button.disabled {
  opacity: 0.5;
}

/* Start Page */
#quizLogoHolder {
  background-image: url(/download/c4e929bf-fc11-4a32-86b4-1247f8467a0c/main-back.png);
  padding: 50px 0px 40px 0px;
}

#quizLogoHolder img {
  width: 50%;
  max-width: 421px;
}

#quizLogoHolder p {
  margin-top: 20px;
  color: white;
  font-weight: bold;
  font-size: 18px;
}

/* ScoreCard Page */
#scHeader {
  background-image: url(/download/b8546b54-f0f0-4b0c-bace-457baeb6972e/header-back.png);
  padding: 20px;
  color: white;
  font-weight: bold;
  font-size: 32px;
}

#scHeader img {
  margin-right: 28px;
}

#scResults {
  padding-top: 30px;
  width: 60%;
  margin: 0px auto;
}

#scResults p {
  font-weight: bold;
  font-size: 28px;
  line-height: 1.1em;
  margin-bottom: 40px;
}

#scResults #scScore {
  color: #51a025;
}

#scResultHolder {
  margin-bottom: 40px;
}

#scResultHolder span {
  display: inline-block;
  width: 60px;
  height: 60px;
  line-height: 60px;
  border-radius: 100%;
  margin-right: 7px;
  margin-bottom: 7px;
  cursor: pointer;
  color: white;
  font-weight: bold;
  transition-property: background-color;
  transition-duration: 0.2s;
}

#scResultHolder span.correct {
  background-color: #51a025;
  border-bottom: 3px solid #205527;

}

#scResultHolder span.correct:hover {
  background-color: #71be43;
}

#scResultHolder span.incorrect {
  background-color: #ff2b00;
  border-bottom: 3px solid #bd0000;
}

#scResultHolder span.incorrect:hover {
  background-color: #ff765a;
}

/* Starting Scenario */
#quiz, #scoreCard {
  display: none;
}

@media all and (max-width: 1200px) {

  #question, #optionHolder, #picHolder, #nextButtonHolder, #scResults {
    width: 90%;
  }
}

@media all and (max-width: 767px) {

  #question, #optionHolder, #picHolder, #nextButtonHolder, #scResults {
    width: auto;
    margin-left: 20px;
    margin-right: 20px;
  }

  .button {
    width: 100%;
    margin: 0px 0px 5px 0px;
  }
}

/* Animate.css */
.animated {
  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
  visibility: visible !important;
}

.animated.hinge {
  -webkit-animation-duration: 2s;
  animation-duration: 2s;
}

@keyframes bounceIn {
  from, 20%, 40%, 60%, 80%, to {
    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
  }

  0% {
    opacity: 0;
    transform: scale3d(.3, .3, .3);
  }

  20% {
    transform: scale3d(1.1, 1.1, 1.1);
  }

  40% {
    transform: scale3d(.9, .9, .9);
  }

  60% {
    opacity: 1;
    transform: scale3d(1.03, 1.03, 1.03);
  }

  80% {
    transform: scale3d(.97, .97, .97);
  }

  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

.bounceIn {
  animation-name: bounceIn;
}

@keyframes bounceOutDown {
  20% {
    transform: translate3d(0, 10px, 0);
  }

  40%, 45% {
    opacity: 1;
    transform: translate3d(0, -20px, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(0, 2000px, 0);
  }
}

.bounceOutDown {
  animation-name: bounceOutDown;
}

@keyframes zoomOutDown {
  40% {
    opacity: 1;
    transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);
    animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);
  }

  to {
    opacity: 0;
    transform: scale3d(.1, .1, .1) translate3d(0, 2000px, 0);
    transform-origin: center bottom;
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);
  }
}

.zoomOutDown {
  animation-name: zoomOutDown;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.fadeIn {
  animation-name: fadeIn;
}

</style>


<div id="quizSection">
  <section id="intro">
    <div id="quizLogoHolder">
      <div class="RSBContainer">
        <div class="content-padding">
        </div>
        <div class="RSBCol">
          <img src="/download/1ead8949-61c1-4d33-8b8b-453a67d2384b/start-logo.png" />
          <p>Who is the Radler master of masters?</p>
        </div>
      </div>
    </div>
    <div class="RSBContainer">
      <div class="content-padding">
      </div>
      <div class="RSBCol">
        <span id="startButton" class="button">Play</span>
      </div>
    </div>
  </section>

  <section id='quiz'>
    <div id="header">
      <div class="RSBContainer">
        <div class="content-padding">
        </div>
        <div class="RSBCol">
          <progress value="1" max="14"></progress>
          <div id="progressText">Question <span id="qNo">1</span> / <span id="qTot">14</span></div>
        </div>
      </div>
    </div>
    <div class="RSBContainer">
      <div class="content-padding">
      </div>
      <div class="RSBCol">
        <div id="question"></div>
        <div id="optionHolder">
        </div>
        <div id="picHolder">
          <img class="animated" src=""/>
        </div>
        <div id="nextButtonHolder">
          <span id="nextButton" class="button disabled">Next Question</span>
        </div>
      </div>
    </div>
  </section>

  <section id="scoreCard">
    <div id="scHeader">
      <div class="RSBContainer">
        <div class="content-padding">
        </div>
        <div class="RSBCol">
          <img src="/download/d68dac82-3055-4e8a-95db-b948e9ac36a1/complete-star.png" />Quiz Completed
        </div>
      </div>
    </div>
    <div id="scResults">
      <div class="RSBContainer">
        <div class="content-padding">
        </div>
        <div class="RSBCol">
          <p>You completed the quiz and your score is <span id="scScore"></span><br/>Press any questions below to review how you performed</p>
          <div id="scResultHolder"></div>
          <div id="scQuestion"></div>
          <div id="scOptionHolder"></div>
          <span id="playAgain" class="button">Play Again</span>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
//--------------------
// Data
//--------------------

var QuestionData = [
  {txt: 'How many HL of beer mixes were sold by Heineken in 2016?', img: '/download/ce01fab7-5187-446f-b932-95bb3d68387f/img-q1.png', Options:[
    {txt: '2.2 MHLs', res: false},
    {txt: '3.8 MHLs', res: true},
    {txt: '5.4 MHLs', res: false}
  ]},
  {txt: 'What is Heineken volume ms in beer mixes?', img: '/download/fa88f0e6-e369-4811-a0b5-58beddb0c247/img-q2.png', Options:[
    {txt: '33.9%', res: true},
    {txt: '60.2%', res: false},
    {txt: '35.7%', res: false}
  ]},
  {txt: 'What was the first brand to launch Radler in Heineken', img: '/download/ac5cb1a4-0baf-4b7d-bfa1-ce75c7d1fdf1/img-q3.png', Options:[
    {txt: 'Zipfer', res: false},
    {txt: 'Zlaty Bazant', res: false},
    {txt: 'Gosser', res: true}
  ]},
  {txt: 'How was the Rev/HL of beermixes vs. total beer & cider in 2016?', img: '/download/fcdb1a5e-a538-42e9-bab6-c51883639bed/img-q4.png', Options:[
    {txt: 'Above average', res: true},
    {txt: 'Same', res: false},
    {txt: 'Below average', res: false}
  ]},
  {txt: 'How was the GP/HL of beer mixes vs. total beer & cider in 2016?', img: '/download/fcdb1a5e-a538-42e9-bab6-c51883639bed/img-q4.png', Options:[
    {txt: 'Above average', res: false},
    {txt: 'Same', res: false},
    {txt: 'Below average', res: true}
  ]},
  {txt: 'What was the roll-out split of beer/lemonade in 2% Radler in 2013?', img: '/download/ca2a28c4-2dd2-42cf-8155-9bd6d746b8b3/img-q6.png', Options:[
    {txt: '50/50', res: false},
    {txt: '70/30', res: false},
    {txt: '40/60', res: true}
  ]},
  {txt: 'What is the YTD 2016 Radler qrowth in Spain?', img: '/download/03234d40-3dfd-4628-9fea-ed28e55f8d6d/img-q7.png', Options:[
    {txt: '73 KHLs', res: true},
    {txt: '46 KHLs', res: false},
    {txt: '38 KHLs', res: false}
  ]},
  {txt: 'What is the growth of Radler 0.0 in Heineken in 2016?', img: '/download/17156195-96d3-4f32-8aeb-6134431bc8f7/img-q8.png', Options:[
    {txt: '11.4%', res: false},
    {txt: '36%', res: true},
    {txt: '22.8%', res: false}
  ]},
  {txt: 'What is the additional volume in % that Radler brings to beer?', img: '/download/10e8a04b-a171-43f8-b5a4-66030761f22a/img-q9.png', Options:[
    {txt: '75%', res: true},
    {txt: '50%', res: false},
    {txt: '60%', res: false}
  ]},
  {txt: 'What is the incremental vol. in Radler 0.0 with PET un HU16?', img: '/download/72ec3438-bb1b-4015-b22a-7969489357e2/img-q10.png', Options:[
    {txt: '16%', res: true},
    {txt: '5%', res: false},
    {txt: '38%', res: false}
  ]},
  {txt: 'What was the sugar reduction % by Netherlands in Radler 0.0 in 2017?', img: '/download/98e33677-f3c6-4293-a9b1-5e21f3e1e04b/img-q11.png', Options:[
    {txt: '10%', res: false},
    {txt: '15%', res: false},
    {txt: '20%', res: true}
  ]},
  {txt: 'What was the sugar of double citrus in the Netherlands?', img: '/download/75e28156-ccc6-40d7-8d80-df1e9e35fd70/img-q12.png', Options:[
    {txt: '25%', res: false},
    {txt: '35%', res: true},
    {txt: '50%', res: false}
  ]},
  {txt: 'How many different species of citrus exist?', img: '/download/26411e91-5b78-41c5-9102-601ea8ab24e8/img-q13.png', Options:[
    {txt: '10', res: false},
    {txt: '45', res: false},
    {txt: 'More than 100', res: true}
  ]},
  {txt: 'How long has citrus existed on Earth? (ref. Earth is 4.5 billion years old)', img: '/download/91c98cfa-6cad-4fcb-981a-095e1fa17e2d/img-q14.png', Options:[
    {txt: '1.5m years', res: false},
    {txt: '15m years', res: true},
    {txt: '150m years', res: false}
   ]}
];

//--------------------
// Question Constructor
//--------------------

function Question(_ind){
  this.ind = _ind;
  this.txt = QuestionData[this.ind].txt;
  this.img = QuestionData[this.ind].img;
  this.correct = false;
  this.myAnswer = 0;
  this.lastQuestion = false;
  this.Options = [];

  for(i=0; i<QuestionData[this.ind].Options.length; i++){
    this.Options.push(new Option(this.ind,i));
  }

  if (this.ind == QuestionData.length-1){
    this.lastQuestion = true;
  }
}

Question.prototype.drawOptions = function(el,del){
  $('#optionHolder .button').addClass('old');
  for(i=0; i<this.Options.length; i++){
    this.Options[i].drawOption(el,del);
  }

  if(this.lastQuestion){
    $('#nextButton').html('Show Scores');
  }
}

Question.prototype.clearOptions = function(){
  for(i=0; i<this.Options.length; i++){
    this.Options[i].clearOption();
  }
}

Question.prototype.imgOut = function(){
  $('#picHolder img')
    .delay((this.Options.length * del * 3))
    .queue( function(next){
      $(this)
        .removeClass('fadeIn')
        .addClass('zoomOutDown');
      next();
    });
}

Question.prototype.imgIn = function(){
  $('#picHolder img')
    .delay(this.Options.length * del * 4)
    .queue( function(next){
      $(this)
        .attr('src', quiz.Questions[quiz.qNo].img)
        .removeClass('zoomOutDown')
        .addClass('fadeIn');
      $('#question').html(quiz.Questions[quiz.qNo].txt);
      next();
    });
}

Question.prototype.showAnswer = function(){
  for(i=0; i<this.Options.length; i++){
    if(this.Options[i].res == true){
      $('.button#option' + i).addClass('true');
    }
    $('.button#option' + i).addClass('inactive');
  }
}

Question.prototype.scDrawResult = function(){

  var _spn = document.createElement('span');
  $('#scResultHolder').append(_spn);

  $(_spn).attr('id','option' + this.ind)
    .html(this.ind + 1)
    .data('ind',this.ind)
    .on('click', function(){
      quiz.Questions[$(this).data('ind')].scShowQuestion();
    });

  if(this.correct){
    $(_spn).addClass('correct');
  } else {
    $(_spn).addClass('incorrect');
  }

}

Question.prototype.scShowQuestion = function(){
  $('#scOptionHolder').html('');
  this.drawOptions('scOptionHolder',0);
  this.showAnswer()
  $('#scOptionHolder .button').off();
  $('.button#option' + this.myAnswer).addClass('selected');
  $('#scQuestion').html(this.txt);
}



//--------------------
// Option Constructor
//--------------------

function Option(_q,_ind){
  this.q = _q;
  this.ind = _ind;
  this.txt = QuestionData[this.q].Options[this.ind].txt;
  this.res = QuestionData[this.q].Options[this.ind].res;
}

Option.prototype.drawOption = function(el,d){
  d = typeof d == 'undefined' ? del : d;
  var _btn = document.createElement('span');
  $('#' + el).append(_btn);

  $(_btn)
    .attr('id','option' + this.ind)
    .html(this.txt)
    .addClass('hide button')
    .data({'q':this.q,'ind':this.ind})
    .on('click', function(){
        quiz.Questions[$(this).data('q')].Options[$(this).data('ind')].selectOption();
    })
    .delay((quiz.Questions[this.q].Options.length * d * 6) + this.ind * d)
    .queue( function(next){
      $('#optionHolder .button.old').remove();
      $('#optionHolder .button').removeClass('hide');
      $(this).addClass('bounceIn animated');
      next();
    });
}

Option.prototype.clearOption = function(){
  $('.button#option' + this.ind)
    .delay(this.ind * del * 3)
    .queue( function(next){
      $(this)
        .removeClass('bounceIn')
        .addClass('bounceOutDown');
      next();
    });
}

Option.prototype.selectOption = function(){
  quiz.Questions[this.q].myAnswer = this.ind;

  if(this.res == true){
    quiz.Questions[this.q].correct = true;
  }

  quiz.Questions[this.q].showAnswer();

  $('.button#option' + this.ind).addClass('selected');
  $('#nextButton').removeClass('disabled').on('click', nextQuestion);
}

//--------------------
// Main Quiz Object
//--------------------


var quiz = {
  qNo               : 0,
  qTot              : 0,
  Questions         : [],

  init              : function() {
                        this.qNo = 0;
                        this.Questions = [];
                        for(j=0; j<QuestionData.length; j++){
                          this.Questions.push(new Question(j));
                        }
                        this.qTot = this.Questions.length;
                      },

  start             : function(){
                        this.init();

                        $('#intro, #scoreCard').hide();
                        $('#quiz').show();
                        $('#nextButton').html('Next Question');

                        this.drawQuestion();
                        this.updateProgressBar();
                        del = 75;
                      },

  drawQuestion      : function(){
                        this.Questions[this.qNo].drawOptions('optionHolder');
                        this.Questions[this.qNo].imgIn();
                        $('#nextButton').addClass('disabled').off('click',nextQuestion);
                      },

  nextQuestion      : function(){
                        if (!this.Questions[this.qNo].lastQuestion){
                          this.Questions[this.qNo].clearOptions();
                          this.Questions[this.qNo].imgOut();
                          this.qNo++;
                          this.drawQuestion();
                          this.updateProgressBar();
                        } else {
                          this.finish();
                        }
                      },

  updateProgressBar : function(){
                        $('progress').attr({'value':this.qNo + 1,'max':this.qTot});
                        $('#qNo').html(this.qNo + 1);
                        $('#qTot').html(this.qTot);
                      },

  getScore          : function(){
                        var _score = 0;
                        for (i=0; i<this.Questions.length; i++){
                          if (this.Questions[i].correct){
                            _score++;
                          }
                        }
                        return parseInt((_score/this.qTot) * 100) + '%';
                      },

  finish            : function(){
                        $('#scResultHolder, #scQuestion, #scOptionHolder, #optionHolder, #question').html('');
                        $('#picHolder img').attr('src','');

                        for (i=0; i<this.Questions.length; i++){
                          this.Questions[i].scDrawResult();
                        }

                        $('#scScore').html(this.getScore());

                        $('#quiz').hide();
                        $('#scoreCard').show();
                      }
}

//--------------------
// Initialisation Functions
//--------------------


var del = 0;

var nextQuestion = function(){
  quiz.nextQuestion()
}

$(document).ready(function(){
  $('#startButton, #playAgain').on('click', function(){
    quiz.start();
  });
});

//--------------------
// Interrupt Standard Layout Functions
//--------------------
$(document).off('ready',createStandardLayout);
$('head').append('<style>html body .jsWebbox {visibility:visible; top: 0px !important; left: 0px !important; width: 100% !important;}</style>');
</script>
